<!DOCTYPE html>
{% load static %}
{% load crispy_forms_tags %}
<html>
<title>Register Big chungus</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
  
  body, html {
    height: 100%;
    line-height: 1.8;
  }
  
  /* Full height image header */
  .bgimg-1 {
    background-position: center;
    background-size: cover;
    background-color: black;
    opacity: 100%;
    min-height: 100%;
  }
  
  .w3-bar .w3-button {
    padding: 16px;
  }
  hr {
  border: 1px solid white;
  margin-bottom: 25px;
}
  </style>
  <!-- <body background="Media/black.png"> -->

<!-- Navbar (sit on top) -->
<div class="w3-top">
    <div class="w3-bar w3-black w3-card" id="myNavbar">
      <!-- Right-sided navbar links -->
      <div class="w3-right w3-hide-small">
        <a href="{% url 'index' %}" class="w3-bar-item w3-button"><i class="fa fa-home"></i> HOME</a>
      </div>
      <!-- Hide right-floated links on small screens and replace them with a menu icon -->
  
      <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="w3_open()">
        <i class="fa fa-bars"></i>
      </a>
    </div>
  </div>

  <nav class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large" style="display:none" id="mySidebar">
    <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-large w3-padding-16">Close Ã—</a>
    <a href="{% url 'index' %}" class="w3-bar-item w3-button"><i class="fa fa-home"></i> HOME</a>
  </nav>

<br><br><br><br>

<form method="POST" style="background-color:#f1f1f1;border: silver;border-radius: 25px;width: 50%;margin-left: 25%;" enctype="multipart/form-data">
  <div class="container">
    <h1 style="margin-left: 5%;"><u><b>Team Details</b></u></h1>
    <hr>
    
    <div class="container" style="margin-left: 5%;">
      {% csrf_token %}
    {{ team_form|crispy}}
    </div>
    <br>
    <hr>
  </div>

{{ formset.management_form }}
{% for form in formset %}
  
    <div class="container">
      {% if forloop.counter0 != 0 %}
      <h1 style="margin-left: 5%;"><b>Member {{ forloop.counter0 }}</b></h1>
      {% else %}
      <h1 style="margin-left: 5%;"><b>Leader</b></h1>
      {% endif %}
      <div class="container" style="margin-left: 5%;">
      {{form|crispy}}
      <br><br>
      <div id='NoneDiv{{ forloop.counter0 }}' hidden>
        <label for="None{{ forloop.counter0 }}">If none type your current education.</label>
        <input name="None{{ forloop.counter0 }}" id="None{{ forloop.counter0 }}" type="text">
      </div>
      </div>
      <hr>
    </div>
  {% endfor %}
  <button class='text-center btn btn-light' id='subBut' type="submit" style="background-color: #4CAF50;
  color: white; padding: 16px 20px; margin: 8px 0;
  border: none; cursor: pointer; width: 50%;
  opacity: 0.9;border-radius: 25px; margin-left: 25%;">SUBMIT & PROCEED TO PAY
  </button>
  </form>
<br>


<footer class="w3-center w3-black w3-padding-64">
    <div class="w3-xlarge w3-section">
      <i class="fa fa-facebook-official w3-hover-opacity"></i>
      <i class="fa fa-instagram w3-hover-opacity"></i>
    </div>
    <p>By Astra Robotics, RVCE</p>
</footer>  
</body>

<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
<script>
   
  function getInputValue(){
    for (i = 0; i < 4; i++) {
        var inputVal = document.getElementById("id_form-"+i+"-department").value;
        console.log(i)

        if (inputVal=="None") { 
          document.getElementById("NoneDiv"+i).style.display = "block"; 
          }
        else {
          document.getElementById("NoneDiv"+i).style.display = "none";
        }
    }
  }

  $(function(){
    for (i = 0; i < 4; i++) {
    $("#id_form-"+i+"-department").change(function(){
        getInputValue();
    });
    }
  });

  
  $('#id_form-0-skills_1').click(function() {
      if ($('#id_form-0-skills_1').is(':checked')) {
        for (j = 2; j < 5; j++) {
          $('#id_form-0-skills_'+j).attr('disabled', 'disabled'); 
          $('#id_form-0-skills_'+j).prop("checked", false);
        } 
      } 
      else {
        for (j = 2; j < 5; j++) {
          $('#id_form-0-skills_'+j).removeAttr('disabled');
        }
      }
    
  });

  $('#id_form-1-skills_1').click(function() {
      if ($('#id_form-1-skills_1').is(':checked')) {
        for (j = 2; j < 5; j++) {
          $('#id_form-1-skills_'+j).attr('disabled', 'disabled'); 
          $('#id_form-1-skills_'+j).prop("checked", false);
        } 
      } 
      else {
        for (j = 2; j < 5; j++) {
          $('#id_form-1-skills_'+j).removeAttr('disabled');
        }
      }
    
  });

  $('#id_form-2-skills_1').click(function() {
      if ($('#id_form-2-skills_1').is(':checked')) {
        for (j = 2; j < 5; j++) {
          $('#id_form-2-skills_'+j).attr('disabled', 'disabled'); 
          $('#id_form-2-skills_'+j).prop("checked", false);
        } 
      } 
      else {
        for (j = 2; j < 5; j++) {
          $('#id_form-2-skills_'+j).removeAttr('disabled');
        }
      }
    
  });

  $('#id_form-3-skills_1').click(function() {
      if ($('#id_form-3-skills_1').is(':checked')) {
        for (j = 2; j < 5; j++) {
          $('#id_form-3-skills_'+j).attr('disabled', 'disabled'); 
          $('#id_form-3-skills_'+j).prop("checked", false);
        } 
      } 
      else {
        for (j = 2; j < 5; j++) {
          $('#id_form-3-skills_'+j).removeAttr('disabled');
        }
      }
    
  });

</script>


<script>
  // Modal Image Gallery
  function onClick(element) {
    document.getElementById("img01").src = element.src;
    document.getElementById("modal01").style.display = "block";
    var captionText = document.getElementById("caption");
    captionText.innerHTML = element.alt;
  }

  // Toggle between showing and hiding the sidebar when clicking the menu icon
  var mySidebar = document.getElementById("mySidebar");

  function w3_open() {
    if (mySidebar.style.display === 'block') {
      mySidebar.style.display = 'none';
    } else {
      mySidebar.style.display = 'block';
    }
  }

  // Close the sidebar with the close button
  function w3_close() {
    mySidebar.style.display = "none";
  }
</script>
</html>